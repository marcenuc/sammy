// -- Sammy.js -- plugins/sammy.nested_params.js
// http://sammyjs.org
// Version: 0.7.0
// Built: 2011-08-21T13:05:46+0200
(function(a){function b(a){return a=unescape(a),a==="true"?!0:a==="false"?!1:a}function c(d,e,f){var g,h,i;if(e.match(/^[^\[]+$/))d[e]=b(f);else if(g=e.match(/^([^\[]+)\[\](.*)$/)){h=g[1],i=g[2];if(d[h]&&!a.isArray(d[h]))throw"400 Bad Request";if(i){g=i.match(/^\[([^\]]+)\](.*)$/);if(!g)throw"400 Bad Request";d[h]?d[h][d[h].length-1][g[1]]?d[h].push(c({},g[1]+g[2],f)):a.extend(!0,d[h][d[h].length-1],c({},g[1]+g[2],f)):d[h]=[c({},g[1]+g[2],f)]}else d[h]?d[h].push(b(f)):d[h]=[b(f)]}else if(g=e.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){h=g[1],i=g[2]+g[3];if(d[h]&&a.isArray(d[h]))throw"400 Bad Request";d[h]?a.extend(!0,d[h],c(d[h],i,f)):d[h]=c({},i,f)}return d}Sammy=Sammy||{},Sammy.NestedParams=function(a){a._parseParamPair=c}})(jQuery)