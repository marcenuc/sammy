// -- Sammy.js -- plugins/sammy.cache.js
// http://sammyjs.org
// Version: 0.7.0
// Built: 2011-08-21T13:05:46+0200
(function(a){Sammy=Sammy||{},Sammy.MemoryCacheProxy=function(a){this._cache=a||{}},a.extend(Sammy.MemoryCacheProxy.prototype,{exists:function(a){return typeof this._cache[a]!="undefined"},set:function(a,b){return this._cache[a]=b},get:function(a){return this._cache[a]},clear:function(a){delete this._cache[a]}}),Sammy.DataCacheProxy=function(b,c){b=b||{},this.$element=c,a.each(b,function(a,b){c.data("cache."+a,b)})},a.extend(Sammy.DataCacheProxy.prototype,{exists:function(a){return typeof this.$element.data("cache."+a)!="undefined"},set:function(a,b){return this.$element.data("cache."+a,b)},get:function(a){return this.$element.data("cache."+a)},clear:function(a){this.$element.removeData("cache."+a)}}),Sammy.Cache=function(b,c){b.log("**WARNING:** This version of Sammy.Cache has been deprecated in favor of using the version in Sammy.Storage and will be removed in 1.0"),c=="data"?this.cache_proxy=new Sammy.DataCacheProxy({},this.$element()):this.cache_proxy=new Sammy.MemoryCacheProxy({}),b.cache_partials=!0,a.extend(b,{cache:function(b,c){return typeof c=="undefined"?this.cache_proxy.get(b):a.isFunction(c)&&!this.cache_proxy.exists(b)?this.cache_proxy.set(b,c.apply(this)):this.cache_proxy.set(b,c)},clearCache:function(a){return this.cache_proxy.clear(a)}}),b.helpers({cache:function(a,b){return this.app.cache(a,b)}})}})(jQuery)