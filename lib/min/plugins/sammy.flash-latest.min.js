// -- Sammy.js -- plugins/sammy.flash.js
// http://sammyjs.org
// Version: 0.7.0
// Built: 2011-08-08T12:31:53+0200
(function(a){Sammy=Sammy||{},Sammy.FlashHash=function(){this.now={}},Sammy.FlashHash.prototype={toHTML:function(){var a=this._renderUL();this.clear();return a},clear:function(){this._clearHash(this),this._clearHash(this.now)},_onRedirect:function(){this._clearHash(this.now)},_clearHash:function(a){var b;for(b in a)b!=="now"&&a.hasOwnProperty(b)&&delete a[b]},_renderUL:function(){return'<ul class="flash">'+this._renderLIs(this)+this._renderLIs(this.now)+"</ul>"},_renderLIs:function(a){var b="",c;for(c in a)a[c]&&c!=="now"&&a.hasOwnProperty(c)&&(b=b+'<li class="'+c+'">'+a[c]+"</li>");Sammy.log("rendered flash: "+b);return b}},Sammy.Flash=function(a){a.flash=new Sammy.FlashHash,a.helper("flash",function(a,b){if(arguments.length===0)return this.app.flash;arguments.length===2&&(this.app.flash[a]=b);return this.app.flash[a]}),a.helper("flashNow",function(a,b){if(arguments.length===0)return this.app.flash.now;arguments.length===2&&(this.app.flash.now[a]=b);return this.app.flash.now[a]}),a.bind("redirect",function(){this.app.flash._onRedirect()})}})(jQuery)